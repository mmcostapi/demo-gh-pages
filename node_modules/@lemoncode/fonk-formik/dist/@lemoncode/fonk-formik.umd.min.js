!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@lemoncode/fonk")):"function"==typeof define&&define.amd?define(["exports","@lemoncode/fonk"],r):r((t=t||self)["@lemoncode/fonk-formik"]={},t.Fonk)}(this,(function(t,r){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o="Expected a function",i="__lodash_hash_undefined__",a=1/0,u=9007199254740991,c="[object Function]",s="[object GeneratorFunction]",l="[object Symbol]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,p=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,_=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,m="object"==e(n)&&n&&n.Object===Object&&n,b="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,g=m||b||Function("return this")();var j,E=Array.prototype,F=Function.prototype,O=Object.prototype,S=g["__core-js_shared__"],k=(j=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",w=F.toString,R=O.hasOwnProperty,V=O.toString,$=RegExp("^"+w.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=g.Symbol,x=E.splice,C=K(g,"Map"),M=K(Object,"create"),P=T?T.prototype:void 0,A=P?P.toString:void 0;function q(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function G(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function I(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function z(t,r,e){var n=t[r];R.call(t,r)&&W(n,e)&&(void 0!==e||r in t)||(t[r]=e)}function B(t,r){for(var e=t.length;e--;)if(W(t[e][0],r))return e;return-1}function D(t){return!(!Y(t)||(r=t,k&&k in r))&&(function(t){var r=Y(t)?V.call(t):"";return r==c||r==s}(t)||function(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(t){}return r}(t)?$:_).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var r}function H(t,r,n,o){if(!Y(t))return t;for(var i=-1,a=(r=function(t,r){if(X(t))return!1;var n=e(t);if("number"==n||"symbol"==n||"boolean"==n||null==t||Z(t))return!0;return d.test(t)||!f.test(t)||null!=r&&t in Object(r)}(r,t)?[r]:function(t){return X(t)?t:N(t)}(r)).length,u=a-1,c=t;null!=c&&++i<a;){var s=Q(r[i]),l=n;if(i!=u){var p=c[s];void 0===(l=o?o(p,s,c):void 0)&&(l=Y(p)?p:L(r[i+1])?[]:{})}z(c,s,l),c=c[s]}return t}function J(t,r){var n,o,i=t.__data__;return("string"==(o=e(n=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof r?"string":"hash"]:i.map}function K(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return D(e)?e:void 0}function L(t,r){return!!(r=null==r?u:r)&&("number"==typeof t||v.test(t))&&t>-1&&t%1==0&&t<r}q.prototype.clear=function(){this.__data__=M?M(null):{}},q.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},q.prototype.get=function(t){var r=this.__data__;if(M){var e=r[t];return e===i?void 0:e}return R.call(r,t)?r[t]:void 0},q.prototype.has=function(t){var r=this.__data__;return M?void 0!==r[t]:R.call(r,t)},q.prototype.set=function(t,r){return this.__data__[t]=M&&void 0===r?i:r,this},G.prototype.clear=function(){this.__data__=[]},G.prototype.delete=function(t){var r=this.__data__,e=B(r,t);return!(e<0)&&(e==r.length-1?r.pop():x.call(r,e,1),!0)},G.prototype.get=function(t){var r=this.__data__,e=B(r,t);return e<0?void 0:r[e][1]},G.prototype.has=function(t){return B(this.__data__,t)>-1},G.prototype.set=function(t,r){var e=this.__data__,n=B(e,t);return n<0?e.push([t,r]):e[n][1]=r,this},I.prototype.clear=function(){this.__data__={hash:new q,map:new(C||G),string:new q}},I.prototype.delete=function(t){return J(this,t).delete(t)},I.prototype.get=function(t){return J(this,t).get(t)},I.prototype.has=function(t){return J(this,t).has(t)},I.prototype.set=function(t,r){return J(this,t).set(t,r),this};var N=U((function(t){var r;t=null==(r=t)?"":function(t){if("string"==typeof t)return t;if(Z(t))return A?A.call(t):"";var r=t+"";return"0"==r&&1/t==-a?"-0":r}(r);var e=[];return p.test(t)&&e.push(""),t.replace(h,(function(t,r,n,o){e.push(n?o.replace(y,"$1"):r||t)})),e}));function Q(t){if("string"==typeof t||Z(t))return t;var r=t+"";return"0"==r&&1/t==-a?"-0":r}function U(t,r){if("function"!=typeof t||r&&"function"!=typeof r)throw new TypeError(o);var e=function e(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return e.cache=i.set(o,a),a};return e.cache=new(U.Cache||I),e}function W(t,r){return t===r||t!=t&&r!=r}U.Cache=I;var X=Array.isArray;function Y(t){var r=e(t);return!!t&&("object"==r||"function"==r)}function Z(t){return"symbol"==e(t)||function(t){return!!t&&"object"==e(t)}(t)&&V.call(t)==l}var tt=function(t,r,e){return null==t?t:H(t,r,e)},rt=function t(e){var n=this;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.formValidation=null,this.mapErrorsToFormikErrorMessageStructure=function(t){for(var r={},e=0,n=Object.keys(t);e<n.length;e++){var o=n[e],i=t[o]&&!t[o].succeeded?t[o].message:null;i&&tt(r,o,i)}return r},this.validateField=function(t,r,e){return n.formValidation.validateField(t,r,e).then((function(t){return t.succeeded?null:t.message}))},this.validateRecord=function(t){return n.formValidation.validateRecord(t).then((function(t){return t.succeeded?null:{recordErrors:Object.assign({},n.mapErrorsToFormikErrorMessageStructure(t.recordErrors))}}))},this.anyRecordValidationResultFailed=function(t){return Object.keys(t).some((function(r){return!t[r].succeeded}))},this.validationResultContainsRecordErrors=function(t){return t.recordErrors&&Object.keys(t.recordErrors).length>0&&n.anyRecordValidationResultFailed(t.recordErrors)},this.buildFormikErrors=function(t){var r={};return r=Object.assign({},n.mapErrorsToFormikErrorMessageStructure(t.fieldErrors)),n.validationResultContainsRecordErrors(t)&&(r=Object.assign(Object.assign({},r),{recordErrors:n.mapErrorsToFormikErrorMessageStructure(t.recordErrors)})),r},this.validateForm=function(t){return n.formValidation.validateForm(t).then((function(t){return t.succeeded?null:n.buildFormikErrors(t)}))},this.updateValidationSchema=function(t){n.formValidation.updateValidationSchema(t)},this.formValidation=r.createFormValidation(e)};t.createFormikValidation=function(t){return new rt(t)},Object.defineProperty(t,"__esModule",{value:!0})}));
